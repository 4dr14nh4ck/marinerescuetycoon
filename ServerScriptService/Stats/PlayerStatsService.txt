--!strict
-- Crea leaderstats mínimos: lv (minúsculas), Tickets, Fish.
-- No crea "Coins" ni resetea progreso (valores a 0 solo si no existían).

local Players = game:GetService("Players")

local function ensure(plr: Player)
	local ls = plr:FindFirstChild("leaderstats") :: Folder
	if not ls then
		ls = Instance.new("Folder")
		ls.Name = "leaderstats"
		ls.Parent = plr
	end

	-- Compat: si existía "Peces" y no "Fish", renombramos
	local peces = ls:FindFirstChild("Peces")
	if peces and not ls:FindFirstChild("Fish") then
		peces.Name = "Fish"
	end

	local lv = ls:FindFirstChild("lv") :: IntValue
	if not lv then
		lv = Instance.new("IntValue")
		lv.Name = "lv"
		lv.Value = lv.Value or 0
		lv.Parent = ls
	end

	local tickets = ls:FindFirstChild("Tickets") :: IntValue
	if not tickets then
		tickets = Instance.new("IntValue")
		tickets.Name = "Tickets"
		tickets.Value = tickets.Value or 0
		tickets.Parent = ls
	end

	local fish = ls:FindFirstChild("Fish") :: IntValue
	if not fish then
		fish = Instance.new("IntValue")
		fish.Name = "Fish"
		fish.Value = fish.Value or 0
		fish.Parent = ls
	end
end

Players.PlayerAdded:Connect(ensure)